<p>map-test works!</p>
<!-- Bouton pour centrer sur la position actuelle -->
<button (click)="centerOnCurrentLocation()" class="center-btn absolute top-4 right-4 z-50 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-blue-600">
  Centrer sur ma position
</button>

<!-- Afficher le nombre total de lieux -->
<p class="text-center mt-4 text-lg font-medium">Nombre total de lieux : {{ totalLocations }}</p>

<!-- Conteneur principal -->
<div class="relative flex flex-col h-screen">

  <!-- Conteneur des filtres -->
  <div class="filters bg-white p-4 rounded-lg shadow-md mb-4 z-10">
    <p class="text-lg font-semibold mb-2">Filtres</p>
    <div class="space-y-2">
      <!-- Dropdown pour Type d'Activité -->
      <label class="block">
        <span class="text-gray-700">Type d'Activité</span>
        <select (change)="onFilterChange('typeActivite', $event)" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
          <option value="toutes">Toutes</option>
          <option value="ferme-urbaine-participative">Ferme Urbaine Participative</option>
          <option value="jardin-potager">Jardin Potager</option>
          <option value="herbes-aromatiques">Herbes Aromatiques</option>
          <option value="legumes">Légumes</option>
          <option value="plants">Plants</option>
        </select>
      </label>
      <!-- Dropdown pour Technique de Production -->
      <label class="block">
        <span class="text-gray-700">Technique de Production</span>
        <select (change)="onFilterChange('techniqueProduction', $event)" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
          <option value="toutes">Toutes</option>
          <option value="technique-1">Permaculture</option>
          <option value="technique-2">Pleine Terre</option>
          <option value="technique-3">hydroponie</option>

          <!-- Ajouter d'autres options selon les besoins -->
        </select>
      </label>
    </div>
    <div class="mt-4 flex space-x-4">
      <button (click)="applyFilters()" class="flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">
        Appliquer les filtres
      </button>
      <button (click)="resetFilters()" class="flex-1 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600">
        Réinitialiser les filtres
      </button>
    </div>
  </div>

  <!-- Conteneur de la carte -->
  <div class="flex-1">
    <div #map id="map" style="height: 70%; width: 100%;"></div>
  </div>

</div>
<!-- Barre de navigation ou pied de page -->
<app-bottom-bar></app-bottom-bar>



<div>
  <!-- Formulaire de filtrage -->
  <form (ngSubmit)="applyFilters()">
    <!-- Filtre par Type de Projet -->
    <label for="typeprojet">Type de Projet:</label>
    <select id="typeprojet" [(ngModel)]="selectedTypeProjet" name="typeprojet">
      <option value="">Tous</option>
      <option *ngFor="let type of typesProjets" [value]="type">{{ type }}</option>
    </select>

    <!-- Filtre par Type d'Activité -->
    <label for="typeactivite">Type d'Activité:</label>
    <select id="typeactivite" [(ngModel)]="selectedTypeActivite" name="typeactivite">
      <option value="">Tous</option>
      <option *ngFor="let type of typesActivites" [value]="type">{{ type }}</option>
    </select>

    <!-- Filtre par Technique de Production -->
    <label for="techniqueprod">Technique de Production:</label>
    <select id="techniqueprod" [(ngModel)]="selectedTechniqueProd" name="techniqueprod">
      <option value="">Tous</option>
      <option *ngFor="let technique of techniquesProd" [value]="technique">{{ technique }}</option>
    </select>

    <!-- Filtre par Type de Produit -->
    <label for="typeprod">Type de Produit:</label>
    <select id="typeprod" [(ngModel)]="selectedTypeProd" name="typeprod">
      <option value="">Tous</option>
      <option *ngFor="let produit of typesProd" [value]="produit">{{ produit }}</option>
    </select>

    <!-- Bouton pour appliquer les filtres -->
    <button type="submit">Appliquer les filtres</button>
  </form>

  <!-- Afficher le nombre d'établissements -->
  <p>Nombre d'établissements affichés : {{ numberOfEstablishments }}</p>

  <!-- Conteneur pour la carte Leaflet -->
  <div id="map" style="height: 500px;"></div>
</div>
